{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% load static %}

{% block content %}
<div class="topbar">
    <div>
      <div class="topbar__title">Panel de Métricas</div>
      <div class="muted">Rango de fechas + KPIs + gráficas</div>
    </div>

    <div class="filters">
      <input id="fromDate" type="date">
      <input id="toDate" type="date">
      <button id="btnApply">Aplicar</button>
    </div>
  </div>

  <section class="grid kpis">
    <div class="card">
      <div class="kpi-title">Total</div>
      <div class="kpi-value" id="kpiTotal">—</div>
    </div>
    <div class="card">
      <div class="kpi-title">Abiertos</div>
      <div class="kpi-value" id="kpiOpen">—</div>
    </div>
    <div class="card">
      <div class="kpi-title">En progreso</div>
      <div class="kpi-value" id="kpiProgress">—</div>
    </div>
    <div class="card">
      <div class="kpi-title">Reabiertos</div>
      <div class="kpi-value" id="kpiReopened">—</div>
    </div>
    <div class="card">
      <div class="kpi-title">Prom. resolución (hrs)</div>
      <div class="kpi-value" id="kpiAvg">—</div>
    </div>
  </section>

  <section class="grid charts">
    <div class="card">
      <div class="section-title">Tickets creados (por día)</div>
      <canvas id="chartCreated"></canvas>
    </div>

    <div class="card">
      <div class="section-title">Distribución por estatus</div>
      <canvas id="chartStatus"></canvas>
    </div>
  </section>

  <script src="{% static 'js/chart.js' %}"></script>
{% endblock %}